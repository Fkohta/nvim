# Plugin manager
[[plugins]]
repo = 'Shougo/dein.vim'

# lexima plugin
[[plugins]]
repo = 'cohama/lexima.vim'
hook_add = '''
    call lexima#add_rule({'char':'<', 'input_after':'>', 'filetype':['html', 'xml', 'launch']})
    call lexima#add_rule({'char':'>', 'at':'\%#>', 'leave':1, 'filetype':['html', 'xml', 'launch']})
    call lexima#add_rule({'char':'<BS>', 'at':'<\%#>', 'delete':1, 'filetype':['html', 'xml', 'launch']})
'''

# deoplete.nvim plugin
[[plugins]]
repo = 'Shougo/deoplete.nvim'
on_event = 'InsertEnter'
hook_add = '''
    let g:deoplete#enable_at_startup = 1
    inoremap <expr><Tab> pumvisible() ? "\<DOWN>" : "\<Tab>"
    inoremap <expr><S-Tab> pumvisible() ? "\<UP>" : "\<S-Tab>"
'''

# neoinclude.vim
[[plugins]]
repo = 'Shougo/neoinclude.vim'
on_ft = ['c', 'cpp']
depends = ['deoplete.nvim']

# *------------Language Server Protocol client plugins--------------* 
[[plugins]]
repo = 'prabirshrestha/async.vim'

[[plugins]]
repo = 'prabirshrestha/vim-lsp'
hook_add = '''
    let g:lsp_diagnostics_enabled = 1

if executable('typescript-language-server')
    au User lsp_setup call lsp#register_server({
        \ 'name': 'javascript support using typescript-language-server',
        \ 'cmd': { server_info->[&shell, &shellcmdflag, 'typescript-language-server --stdio'] },
        \ 'root_uri': { server_info->lsp#utils#path_to_uri(lsp#utils#find_nearest_parent_directory(lsp#utils#get_buffer_path(), '.git/..')) },
        \ 'whitelist': ['javascript', 'javascript.jsx'],
        \ })
endif

if executable('clangd')
    au User lsp_setup call lsp#register_server({
        \ 'name': 'clangd',
        \ 'cmd': {server_info->['clangd', '-background-index']},
        \ 'whitelist': ['c', 'cpp', 'objc', 'objcpp'],
        \ })
endif

if executable('pyls')
    au User lsp_setup call lsp#register_server({
        \ 'name': 'pyls',
        \ 'cmd' : {server_info->['pyls']},
        \ 'whitelist': ['python'],
        \ })
endif

autocmd FileType typescript setlocal omnifunc=lsp#complete
'''

[[plugins]]
repo = 'prabirshrestha/asyncomplete.vim'

[[plugins]]
repo = 'prabirshrestha/asyncomplete-lsp.vim'

# *---------------------------------------------------------*

# ROS plugin
[[plugins]]
repo = 'taketwo/vim-ros'
hook_add = '''
    let g:ros_make = 'current'
    let g:ros_build_system = 'catkin'
'''

# emmet plugin
[[plugins]]
repo = 'mattn/emmet-vim'

# NERDTree plugin
[[plugins]]
repo = 'scrooloose/nerdtree'
hook_add = '''
    noremap <C-n> :NERDTreeToggle<CR>
'''

# fugitive.vim plugin
[[plugins]]
repo = 'tpope/vim-fugitive'

# nerdtree-git-plugin
[[plugins]]
repo = 'Xuyuanp/nerdtree-git-plugin'
hook_add = '''
let g:NERDTreeShowIgnoredStatus = 1
'''

# color schemer
[[plugins]]
repo = 'altercation/vim-colors-solarized'
hook_add = '''
    let g:solarized_termcolors=256
    syntax enable
    set background=dark
    colorscheme solarized
'''
